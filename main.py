import streamlit as st

# 페이지 설정
st.set_page_config(page_title="MBTI 진로 추천", page_icon="💼", layout="centered")

# CSS 스타일 (카드, 컬러, 반응형)
st.markdown("""
    <style>
    body {
        background-color: #f0f4f8;
    }
    .job-card {
        background-color: white;
        padding: 15px;
        margin: 10px 0;
        border-radius: 12px;
        border: 1px solid #e0e0e0;
        box-shadow: 1px 1px 6px rgba(0,0,0,0.05);
        display: flex;
        align-items: center;
    }
    .job-icon {
        font-size: 30px;
        margin-right: 12px;
        color: #4a90e2;
    }
    .job-text {
        flex-grow: 1;
    }
    .job-title {
        font-weight: bold;
        font-size: 18px;
        color: #333;
    }
    .job-desc {
        font-size: 15px;
        color: #555;
        margin-top: 5px;
    }
    .search-box {
        background-color: white;
        padding: 10px;
        border-radius: 10px;
        border: 1px solid #ddd;
    }
    </style>
""", unsafe_allow_html=True)

# 제목
st.title("💼 MBTI 기반 진로 추천")
st.write("당신의 MBTI 또는 관심 키워드를 통해 어울리는 직업을 찾아드립니다!")

# 직업 데이터 (아이콘 포함)
mbti_jobs = {
    "ISTJ": [
        ("📊", "회계사", "정확성과 꼼꼼함을 바탕으로 재무와 회계를 관리하는 전문가"),
        ("📈", "데이터 분석가", "데이터를 분석해 인사이트를 도출하는 직업"),
        ("🏛️", "공무원", "공공 서비스를 제공하며 안정적인 환경에서 일하는 직업"),
        ("🛠️", "품질관리자", "제품이나 서비스의 품질을 관리하고 개선하는 전문가")
    ],
    "ISFJ": [
        ("📚", "교사", "학생을 가르치고 지도하는 교육 전문가"),
        ("🩺", "간호사", "환자의 건강을 돌보고 치료를 돕는 직업"),
        ("🤝", "사회복지사", "도움이 필요한 사람들에게 사회적 지원을 제공하는 직업"),
        ("📖", "도서관 사서", "도서와 자료를 관리하고 이용자를 돕는 전문가")
    ],
    "INFJ": [
        ("🧠", "상담사", "사람들의 심리와 고민을 듣고 조언하는 전문가"),
        ("✍️", "작가", "이야기와 지식을 창작하거나 전달하는 직업"),
        ("🔬", "심리학자", "인간의 마음과 행동을 연구하는 학자"),
        ("🎨", "예술가", "창의적인 표현을 통해 작품을 만드는 사람")
    ],
    "INTJ": [
        ("🔍", "연구원", "새로운 지식과 기술을 탐구하고 개발하는 직업"),
        ("📋", "전략기획가", "장기적인 계획과 목표를 수립하는 전문가"),
        ("💻", "프로그래머", "소프트웨어와 시스템을 개발하는 직업"),
        ("⚖️", "변호사", "법률 지식을 바탕으로 사건을 해결하는 전문가")
    ],
    "ISTP": [
        ("⚙️", "엔지니어", "기계, 전자, 건축 등 기술 분야에서 일하는 전문가"),
        ("🚓", "경찰관", "사회 질서를 유지하고 안전을 지키는 직업"),
        ("✈️", "항공 정비사", "항공기의 안전 운항을 위해 점검과 수리를 하는 직업"),
        ("📷", "사진작가", "카메라로 순간을 포착하고 예술로 표현하는 전문가")
    ],
    "ISFP": [
        ("🎨", "디자이너", "시각적·공간적 아름다움을 창조하는 전문가"),
        ("🎼", "작곡가", "음악을 창작하고 감정을 표현하는 직업"),
        ("👨‍🍳", "요리사", "맛과 미학을 담아 음식을 만드는 전문가"),
        ("🌿", "치유사", "심리적·신체적 치유를 돕는 사람")
    ],
    "INFP": [
        ("📖", "소설가", "상상력과 감성을 바탕으로 이야기를 창작하는 작가"),
        ("🧠", "상담가", "사람들의 심리와 고민을 들어주고 조언하는 전문가"),
        ("🎭", "예술가", "창의성과 감각을 활용해 예술 작품을 만드는 사람"),
        ("🌏", "환경운동가", "환경 보호를 위해 활동하는 사회운동가")
    ],
    "INTP": [
        ("💻", "개발자", "소프트웨어와 앱을 설계하고 만드는 전문가"),
        ("🔬", "과학자", "자연과 현상을 탐구하며 새로운 지식을 발견하는 직업"),
        ("💡", "발명가", "새로운 기술과 제품을 창조하는 사람"),
        ("🎓", "교수", "대학에서 연구와 교육을 수행하는 전문가")
    ],
    "ESTP": [
        ("🏢", "기업가", "새로운 사업을 시작하고 운영하는 사람"),
        ("💼", "영업사원", "고객과 소통하며 제품을 판매하는 직업"),
        ("🏅", "스포츠 코치", "운동선수를 훈련하고 지도하는 전문가"),
        ("🛫", "파일럿", "항공기를 안전하게 운항하는 조종사")
    ],
    "ESFP": [
        ("🎬", "배우", "연기를 통해 다양한 캐릭터를 표현하는 직업"),
        ("🎉", "이벤트 기획자", "행사를 기획하고 운영하는 전문가"),
        ("🗺️", "여행 가이드", "여행객에게 정보를 제공하고 안내하는 직업"),
        ("👗", "스타일리스트", "패션과 스타일을 제안하는 전문가")
    ],
    "ENFP": [
        ("📢", "마케터", "창의적인 아이디어로 브랜드와 제품을 홍보하는 전문가"),
        ("🚀", "창업가", "새로운 아이디어로 사업을 시작하는 사람"),
        ("🎙️", "방송인", "대중과 소통하며 정보를 전달하는 진행자"),
        ("🖌️", "광고 기획자", "광고 전략과 콘셉트를 기획하는 전문가")
    ],
    "ENTP": [
        ("💼", "컨설턴트", "문제를 분석하고 해결책을 제시하는 전문가"),
        ("🏢", "벤처사업가", "혁신적인 아이디어로 스타트업을 운영하는 사람"),
        ("🏛️", "정치가", "정책을 수립하고 사회 변화를 이끄는 직업"),
        ("🎬", "프로듀서", "방송·영화·음악 제작을 총괄하는 전문가")
    ],
    "ESTJ": [
        ("📊", "관리자", "조직을 운영하고 성과를 관리하는 리더"),
        ("🪖", "군인", "국가를 지키고 안보를 담당하는 직업"),
        ("📈", "영업 관리자", "영업 전략을 수립하고 팀을 관리하는 전문가"),
        ("📋", "프로젝트 매니저", "프로젝트를 기획·운영하는 책임자")
    ],
    "ESFJ": [
        ("🩺", "간호사", "환자의 건강을 돌보고 치료를 돕는 직업"),
        ("📚", "교사", "학생의 성장을 지원하는 교육자"),
        ("👥", "HR 담당자", "직원의 복지와 채용을 관리하는 전문가"),
        ("🎉", "이벤트 플래너", "행사를 기획하고 운영하는 전문가")
    ],
    "ENFJ": [
        ("🎯", "리더십 코치", "사람들의 성장을 돕고 이끄는 전문가"),
        ("🎙️", "방송인", "대중과 소통하며 콘텐츠를 전달하는 사람"),
        ("📝", "강사", "특정 분야의 지식과 기술을 가르치는 직업"),
        ("🌐", "외교관", "국가 간 관계를 관리하고 협상하는 전문가")
    ],
    "ENTJ": [
        ("🏢", "경영자", "회사를 이끌고 비전을 제시하는 리더"),
        ("⚖️", "변호사", "법률 문제를 해결하고 조언하는 전문가"),
        ("💼", "CEO", "기업의 최고 의사결정자"),
        ("📊", "전략 컨설턴트", "경영 전략을 분석하고 해결책을 제시하는 전문가")
    ]
}

# MBTI 선택
selected_mbti = st.selectbox("당신의 MBTI를 선택하세요:", list(mbti_jobs.keys()))

# 키워드 검색
search_term = st.text_input("🔍 직업 키워드로 검색 (예: 디자이너, 변호사, 개발자)")

# 결과 표시
st.subheader("📌 추천 결과")

if search_term:
    found = False
    for mbti, jobs in mbti_jobs.items():
        for icon, title, desc in jobs:
            if search_term.lower() in title.lower() or search_term.lower() in desc.lower():
                found = True
                st.markdown(f"""
                <div class="job-card">
                    <div class="job-icon">{icon}</div>
                    <div class="job-text">
                        <div class="job-title">{title}</div>
                        <div class="job-desc">{desc}</div>
                    </div>
                </div>
                """, unsafe_allow_html=True)
    if not found:
        st.warning("검색 결과가 없습니다.")
else:
    for icon, title, desc in mbti_jobs[selected_mbti]:
        st.markdown(f"""
        <div class="job-card">
            <div class="job-icon">{icon}</div>
            <div class="job-text">
                <div class="job-title">{title}</div>
                <div class="job-desc">{desc}</div>
            </div>
        </div>
        """, unsafe_allow_html=True)
